function [ind] = findPeakEcg( ecg ,t,facdes)
%UNTITLED2 Summary of this function goes here
%   Detailed explanation goes here
ECGSQDEV=(diff(ecg).^2);
w = 15;
n=zeros(length(ecg)-w,1);
for i=1:length(ECGSQDEV)-w
    n(i)=sum(ECGSQDEV(i:i+w));     
end
ECGSQDEV=n;
MAX=max(ECGSQDEV);
DES=std(ECGSQDEV);
ECGSQDEV((MAX-(facdes)*DES)<ECGSQDEV)=0;
[ind]=find(ECGSQDEV>0.06);

x=diff(ind);
y=find(x<10);
y=y+1;
ind(y)=[];
ind=ind+1;
tdif=diff(t(ind));
ind2=find(tdif<0.5);


end

