#:import MeshLinePlot kivy.garden.graph.MeshLinePlot
Logic:
    orientation: 'vertical'
    padding: 10
    spacing: 10
    canvas:
        Color:
            rgb: 0,0,0
        Rectangle:
            size: self.size
    BoxLayout:
        size_hint: [1, 0.2]
        Image:
            source: 'logo.jpg'
            keep_ratio: True
            opacity: 1
            size_hint: 1, 1
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    BoxLayout:
        BoxLayout:
            size_hint: [0.7, 1]
            padding: 10
            spacing: 10
            orientation: "vertical"
            BoxLayout:
                orientation: "vertical"
                size_hint: [1, 1]
                Label:
                    text: 'Electrocardiography'
                    markup: True
                    size: self.texture_size
                    text_size: self.size
                    font_size: 20
                    halign: 'center'
                    valign: 'middle'
                    size_hint: [1, 0.2]
                    bold: True
                BoxLayout:
                    Graph:
                        id: ecg_graph
                        tick_color: 1, 1, 1, 0.2
                        background_color: 0, 0, 0, 1
                        draw_border: True
                        label_options: {'color': [1, 1, 1, 1]}
                        #Eje x
                        xmin: 0
                        xmax: 5
                        xlabel: "Time (s)"
                        x_grid: True
                        x_grid_label: True
                        x_ticks_major: 5/10
                        #Eje y
                        y_grid_label: True
                        y_ticks_major: (ecg_graph.ymax-ecg_graph.ymin)/10
                        y_grid: True

                        ymin: root.minecg
                        ymax: root.maxecg
                Label:
                    text: 'Photopletismography'
                    markup: True
                    size: self.texture_size
                    text_size: self.size
                    font_size: 20
                    halign: 'center'
                    valign: 'middle'
                    size_hint: [1, 0.2]
                    bold: True
                BoxLayout:
                    Graph:
                        id: ppg_graph
                        tick_color: 1, 1, 1, 0.2
                        background_color: 0, 0, 0, 1
                        draw_border: True
                        label_options: {'color': [1, 1, 1, 1]}
                        #Eje x
                        xlabel: "Time (s)"
                        x_grid: True
                        x_grid_label: True
                        x_ticks_major: 5/10
                        xmin: 0
                        xmax: 5
                        #Eje y
                        ymin: root.minppg
                        ymax: root.maxppg
                        y_grid_label: True
                        y_ticks_major: (ppg_graph.ymax-ppg_graph.ymin)/10
                        y_grid: True


        BoxLayout:
            size_hint: [0.3, 1]
            padding: 10
            spacing: 10
            orientation: "vertical"
            GridLayout:
                id: cajas
                rows: 2
                BoxLayout:
                    orientation: "vertical"

                    canvas:
                        Rectangle:
                            size: self.size
                            pos: self.pos
                            source: 'formato_cuadros.png'
                    Label:
                        text: 'Heart Rate'
                        bold: True
                        valign: 'top'
                        font_size: 20
                        size_hint: [1, 0.2]
                    Label:
                        id: HR
                        text: '90'
                        bold: True
                        valign: 'top'
                        font_size: 80
                    Label:
                        text: 'bpp'
                        bold: True
                        valign: 'top'
                        font_size: 20
                        size_hint: [1, 0.2]
                    Label:
                        text: ''
                        bold: True
                        valign: 'top'
                        font_size: 20
                        size_hint: [1, 0.2]
                BoxLayout:
                    orientation: "vertical"
                    canvas:
                        Rectangle:
                            size: self.size
                            pos: self.pos
                            source: 'formato_cuadros.png'
                    Label:
                        text: 'Oximetry'
                        bold: True
                        valign: 'top'
                        font_size: 20
                        size_hint: [1, 0.2]
                    Label:
                        id: PO
                        text: '83'
                        bold: True
                        valign: 'top'
                        font_size: 80
                    Label:
                        text: 'SpO2'
                        bold: True
                        valign: 'top'
                        font_size: 20
                        size_hint: [1, 0.2]
                    Label:
                        text: ''
                        bold: True
                        valign: 'top'
                        font_size: 20
                        size_hint: [1, 0.2]
                BoxLayout:
                    orientation: "vertical"

                    canvas:
                        Rectangle:
                            size: self.size
                            pos: self.pos
                            source: 'formato_cuadros.png'
                    Label:
                        text: 'Diastolic BP'
                        bold: True
                        valign: 'top'
                        font_size: 20
                        size_hint: [1, 0.2]
                    Label:
                        id: DBP
                        text: root.random_number
                        bold: True
                        valign: 'top'
                        font_size: 80
                    Label:
                        text: 'mmHg'
                        bold: True
                        valign: 'top'
                        font_size: 20
                        size_hint: [1, 0.2]
                    Label:
                        text: ''
                        bold: True
                        valign: 'top'
                        font_size: 20
                        size_hint: [1, 0.2]

                BoxLayout:

                    orientation: "vertical"
                    canvas:
                        Rectangle:
                            size: self.size
                            pos: self.pos
                            source: 'formato_cuadros.png'
                    Label:
                        text: 'Systolic BP'
                        bold: True
                        valign: 'top'
                        font_size: 20
                        size_hint: [1, 0.2]
                    Label:
                        id: SBP
                        text: '140'
                        bold: True
                        valign: 'top'
                        font_size: 80
                    Label:
                        text: 'mmHg'
                        bold: True
                        valign: 'top'
                        font_size: 20
                        size_hint: [1, 0.2]
                    Label:
                        text: ''
                        bold: True
                        valign: 'top'
                        font_size: 20
                        size_hint: [1, 0.2]

            GridLayout:
                padding: 5
                rows: 2
                size_hint: [1, 0.2]
                orientation: "horizontal"
                Button:
                    text: "Start"
                    bold: True
                    on_press: root.start()
                Button:
                    text: "Stop"
                    bold: True
                    on_press: root.stop()
                Button:
                    text: "Start Recording"
                    bold: True
                    on_press: root.start_recording()
                Button:
                    text: "Stop Recording"
                    bold: True
                    on_press: root.stop_recording()
